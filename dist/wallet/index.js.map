{"version":3,"sources":["../../src/wallet/constants.ts","../../src/wallet/providers/private-key.ts","../../src/wallet/providers/turnkey.ts","../../src/wallet/index.ts"],"names":["createNonceSource","http","createPublicClient","createWalletClient","tokens"],"mappings":"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","file":"index.js","sourcesContent":["import { zeroAddress } from \"viem\";\nimport {\n  arbitrum,\n  arbitrumSepolia,\n  base,\n  baseSepolia,\n  mainnet,\n} from \"viem/chains\";\n\nimport type {\n  ChainMetadata,\n  ChainTokenMap,\n  HexAddress,\n  RpcUrlResolver,\n  WalletRegistry,\n} from \"./types\";\n\nconst BASE_ALCHEMY_HOST = \"https://base-mainnet.g.alchemy.com/v2/\";\nconst ETHEREUM_ALCHEMY_HOST = \"https://eth-mainnet.g.alchemy.com/v2/\";\nconst BASE_SEPOLIA_ALCHEMY_HOST = \"https://base-sepolia.g.alchemy.com/v2/\";\nconst ARBITRUM_ALCHEMY_HOST = \"https://arb-mainnet.g.alchemy.com/v2/\";\nconst ARBITRUM_SEPOLIA_ALCHEMY_HOST = \"https://arb-sepolia.g.alchemy.com/v2/\";\n\nfunction buildRpcResolver(\n  host: string,\n  fallbackUrls: readonly string[]\n): RpcUrlResolver {\n  return (options) => {\n    if (options?.url) {\n      return options.url;\n    }\n\n    if (options?.apiKey) {\n      return `${host}${options.apiKey}`;\n    }\n\n    if (fallbackUrls.length > 0) {\n      return fallbackUrls[0];\n    }\n\n    throw new Error(\n      \"No RPC URL available: supply a full url via options or an apiKey for the default host\"\n    );\n  };\n}\n\nconst chains: Record<string, ChainMetadata> = {\n  base: {\n    id: base.id,\n    slug: \"base\",\n    name: \"Base\",\n    chain: base,\n    rpcUrl: buildRpcResolver(BASE_ALCHEMY_HOST, base.rpcUrls.default.http),\n    publicRpcUrls: base.rpcUrls.default.http,\n  },\n  ethereum: {\n    id: mainnet.id,\n    slug: \"ethereum\",\n    name: \"Ethereum\",\n    chain: mainnet,\n    rpcUrl: buildRpcResolver(\n      ETHEREUM_ALCHEMY_HOST,\n      mainnet.rpcUrls.default.http\n    ),\n    publicRpcUrls: mainnet.rpcUrls.default.http,\n  },\n  baseSepolia: {\n    id: baseSepolia.id,\n    slug: \"base-sepolia\",\n    name: \"Base Sepolia\",\n    chain: baseSepolia,\n    rpcUrl: buildRpcResolver(\n      BASE_SEPOLIA_ALCHEMY_HOST,\n      baseSepolia.rpcUrls.default.http\n    ),\n  },\n  arbitrum: {\n    id: arbitrum.id,\n    slug: \"arbitrum\",\n    name: \"Arbitrum One\",\n    chain: arbitrum,\n    rpcUrl: buildRpcResolver(\n      ARBITRUM_ALCHEMY_HOST,\n      arbitrum.rpcUrls.default.http\n    ),\n    publicRpcUrls: arbitrum.rpcUrls.default.http,\n  },\n  arbitrumSepolia: {\n    id: arbitrumSepolia.id,\n    slug: \"arbitrum-sepolia\",\n    name: \"Arbitrum Sepolia\",\n    chain: arbitrumSepolia,\n    rpcUrl: buildRpcResolver(\n      ARBITRUM_SEPOLIA_ALCHEMY_HOST,\n      arbitrumSepolia.rpcUrls.default.http\n    ),\n    publicRpcUrls: arbitrumSepolia.rpcUrls.default.http,\n  },\n};\n\nfunction createNativeToken(\n  chainId: number,\n  symbol: string,\n  name: string\n): ChainTokenMap {\n  return {\n    [symbol]: {\n      symbol,\n      name,\n      decimals: 18,\n      address: zeroAddress,\n      chainId,\n      isNative: true,\n    },\n  };\n}\n\nfunction token(\n  chainId: number,\n  symbol: string,\n  name: string,\n  address: HexAddress,\n  decimals: number\n) {\n  return {\n    symbol,\n    name,\n    decimals,\n    address,\n    chainId,\n  };\n}\n\nconst tokens: Record<string, ChainTokenMap> = {\n  base: {\n    ...createNativeToken(base.id, \"ETH\", \"Ether\"),\n    USDC: token(\n      base.id,\n      \"USDC\",\n      \"USD Coin\",\n      \"0x833589fCD6eDb6E08f4c7C31c9A8Ba32D74b86B2\",\n      6\n    ),\n  },\n  ethereum: {\n    ...createNativeToken(mainnet.id, \"ETH\", \"Ether\"),\n    USDC: token(\n      mainnet.id,\n      \"USDC\",\n      \"USD Coin\",\n      \"0xA0b86991c6218b36c1d19d4a2e9Eb0cE3606eB48\",\n      6\n    ),\n  },\n  arbitrum: {\n    ...createNativeToken(arbitrum.id, \"ETH\", \"Ether\"),\n    USDC: token(\n      arbitrum.id,\n      \"USDC\",\n      \"USD Coin\",\n      \"0xaf88d065e77c8cc2239327c5edb3a432268e5831\",\n      6\n    ),\n  },\n  arbitrumSepolia: {\n    ...createNativeToken(arbitrumSepolia.id, \"ETH\", \"Ether\"),\n    USDC: token(\n      arbitrumSepolia.id,\n      \"USDC\",\n      \"USD Coin\",\n      \"0x1baAbB04529D43a73232B713C0FE471f7c7334d5\",\n      6\n    ),\n  },\n};\n\nexport const DEFAULT_CHAIN = chains.base;\nexport const DEFAULT_TOKENS = tokens.base;\n\nexport const registry: WalletRegistry = {\n  chains,\n  tokens,\n};\n\nexport { chains, tokens };\n","import { createPublicClient, createWalletClient, http, type Chain, type PublicClient, type Transport } from \"viem\";\nimport { privateKeyToAccount, type Account } from \"viem/accounts\";\n\nimport type {\n  ChainMetadata,\n  HexAddress,\n  WalletSignerContext,\n  WalletSendTransactionParams,\n  WalletTransferParams,\n} from \"../types\";\n\nfunction normalizePrivateKey(raw: string): `0x${string}` {\n  const trimmed = raw.trim();\n  const withPrefix = trimmed.startsWith(\"0x\") ? trimmed : `0x${trimmed}`;\n  if (!/^0x[0-9a-fA-F]{64}$/.test(withPrefix)) {\n    throw new Error(\"wallet() privateKey must be a 32-byte hex string\");\n  }\n  return withPrefix as `0x${string}`;\n}\n\nexport interface PrivateKeyProviderConfig {\n  chain: ChainMetadata;\n  rpcUrl: string;\n  privateKey: string;\n}\n\nexport interface PrivateKeyProviderResult extends WalletSignerContext {\n  publicClient: PublicClient<Transport, Chain>;\n}\n\nfunction createNonceSource(start: number = Date.now()) {\n  let last = start;\n  return () => {\n    const now = Date.now();\n    if (now > last) {\n      last = now;\n    } else {\n      last += 1;\n    }\n    return last;\n  };\n}\n\nexport function createPrivateKeyProvider(\n  config: PrivateKeyProviderConfig\n): PrivateKeyProviderResult {\n  const privateKey = normalizePrivateKey(config.privateKey);\n  const account = privateKeyToAccount(privateKey);\n\n  const transport = http(config.rpcUrl);\n  const publicClient = createPublicClient<Transport, Chain>({\n    chain: config.chain.chain,\n    transport,\n  });\n\n  const walletClient = createWalletClient<Transport, Chain, Account>({\n    account,\n    chain: config.chain.chain,\n    transport,\n  });\n\n  async function sendTransaction(params: WalletSendTransactionParams) {\n    const tx: any = {\n      account,\n    };\n    if (params.to) {\n      tx.to = params.to;\n    }\n    if (params.value !== undefined) {\n      tx.value = params.value;\n    }\n    if (params.data !== undefined) {\n      tx.data = params.data;\n    }\n\n    return walletClient.sendTransaction(tx);\n  }\n\n  async function getNativeBalance() {\n    return publicClient.getBalance({ address: account.address });\n  }\n\n  async function transfer(params: WalletTransferParams) {\n    return sendTransaction({\n      to: params.to,\n      value: params.amount,\n      ...(params.data !== undefined ? { data: params.data } : {}),\n    });\n  }\n\n  return {\n    address: account.address as HexAddress,\n    account,\n    walletClient,\n    publicClient,\n    sendTransaction,\n    getNativeBalance,\n    transfer,\n    nonceSource: createNonceSource(),\n  };\n}\n","import { Turnkey } from \"@turnkey/sdk-server\";\nimport { createAccount } from \"@turnkey/viem\";\nimport {\n  createPublicClient,\n  createWalletClient,\n  http,\n  type Chain,\n  type PublicClient,\n  type Transport,\n} from \"viem\";\nimport type { Account } from \"viem/accounts\";\n\nimport type {\n  ChainMetadata,\n  HexAddress,\n  TurnkeySignWith,\n  WalletSignerContext,\n  WalletSendTransactionParams,\n  WalletTransferParams,\n} from \"../types\";\n\nexport interface TurnkeyProviderConfig {\n  chain: ChainMetadata;\n  rpcUrl: string;\n  organizationId: string;\n  apiPublicKey: string;\n  apiPrivateKey: string;\n  signWith: TurnkeySignWith;\n  apiBaseUrl?: string;\n}\n\nexport interface TurnkeyProviderResult extends WalletSignerContext {\n  publicClient: PublicClient<Transport, Chain>;\n}\n\nfunction createNonceSource(start: number = Date.now()) {\n  let last = start;\n  return () => {\n    const now = Date.now();\n    if (now > last) {\n      last = now;\n    } else {\n      last += 1;\n    }\n    return last;\n  };\n}\n\nexport async function createTurnkeyProvider(\n  config: TurnkeyProviderConfig\n): Promise<TurnkeyProviderResult> {\n  const turnkey = new Turnkey({\n    apiBaseUrl: config.apiBaseUrl ?? \"https://api.turnkey.com\",\n    // The delegated sub-organization the API key pair belongs to.\n    defaultOrganizationId: config.organizationId,\n    apiPublicKey: config.apiPublicKey,\n    apiPrivateKey: config.apiPrivateKey,\n  });\n\n  const account = (await createAccount({\n    client: turnkey.apiClient(),\n    organizationId: config.organizationId,\n    signWith: config.signWith,\n  })) as Account;\n\n  const transport = http(config.rpcUrl);\n  const publicClient = createPublicClient<Transport, Chain>({\n    chain: config.chain.chain,\n    transport,\n  });\n\n  const walletClient = createWalletClient<Transport, Chain, Account>({\n    account,\n    chain: config.chain.chain,\n    transport,\n  });\n\n  async function sendTransaction(params: WalletSendTransactionParams) {\n    const tx: any = {\n      account,\n    };\n    if (params.to) {\n      tx.to = params.to;\n    }\n    if (params.value !== undefined) {\n      tx.value = params.value;\n    }\n    if (params.data !== undefined) {\n      tx.data = params.data;\n    }\n\n    return walletClient.sendTransaction(tx);\n  }\n\n  async function getNativeBalance() {\n    return publicClient.getBalance({ address: account.address });\n  }\n\n  async function transfer(params: WalletTransferParams) {\n    return sendTransaction({\n      to: params.to,\n      value: params.amount,\n      ...(params.data !== undefined ? { data: params.data } : {}),\n    });\n  }\n\n  return {\n    address: account.address as HexAddress,\n    account,\n    walletClient,\n    publicClient,\n    sendTransaction,\n    getNativeBalance,\n    transfer,\n    nonceSource: createNonceSource(),\n  };\n}\n","export * from \"./types\";\nexport { chains, tokens, registry, DEFAULT_CHAIN, DEFAULT_TOKENS } from \"./constants\";\n\nimport { createPublicClient, http } from \"viem\";\n\nimport type {\n  RpcProviderOptions,\n  WalletContext,\n  WalletFullContext,\n  WalletReadonlyContext,\n  WalletOptions,\n  WalletProviderType,\n  WalletPrivateKeyOptions,\n  WalletTurnkeyOptions,\n  WalletReadonlyOptions,\n} from \"./types\";\nimport {\n  chains as chainRegistry,\n  tokens as tokenRegistry,\n  registry as walletRegistry,\n  DEFAULT_CHAIN,\n  DEFAULT_TOKENS,\n} from \"./constants\";\nimport { createPrivateKeyProvider } from \"./providers/private-key\";\nimport { createTurnkeyProvider } from \"./providers/turnkey\";\n\ntype ChainSlug = keyof typeof chainRegistry;\n\nfunction resolveChainSlug(reference?: string | number): ChainSlug {\n  if (reference === undefined) {\n    return (Object.entries(chainRegistry).find(([, meta]) => meta.id === DEFAULT_CHAIN.id)?.[0] ||\n      DEFAULT_CHAIN.slug) as ChainSlug;\n  }\n\n  if (typeof reference === \"number\") {\n    const match = Object.entries(chainRegistry).find(([, meta]) => meta.id === reference);\n    if (match) {\n      return match[0] as ChainSlug;\n    }\n  } else if (typeof reference === \"string\") {\n    const sanitize = (value: string) => value.toLowerCase().replace(/[^a-z0-9]/g, \"\");\n\n    if (reference in chainRegistry) {\n      return reference as ChainSlug;\n    }\n\n    const normalized = sanitize(reference);\n\n    const keyMatch = Object.entries(chainRegistry).find(([key]) => sanitize(key) === normalized);\n    if (keyMatch) {\n      return keyMatch[0] as ChainSlug;\n    }\n\n    const slugMatch = Object.entries(chainRegistry).find(([, meta]) => {\n      return meta.slug && sanitize(meta.slug) === normalized;\n    });\n    if (slugMatch) {\n      return slugMatch[0] as ChainSlug;\n    }\n\n    const asNumber = Number.parseInt(normalized, 10);\n    if (!Number.isNaN(asNumber)) {\n      const match = Object.entries(chainRegistry).find(([, meta]) => meta.id === asNumber);\n      if (match) {\n        return match[0] as ChainSlug;\n      }\n    }\n  }\n\n  throw new Error(`Unknown chain reference: ${reference}`);\n}\n\nexport function getRpcUrl(chain: ChainSlug | number, options?: RpcProviderOptions): string {\n  const slug = resolveChainSlug(chain);\n  const entry = chainRegistry[slug];\n  return entry.rpcUrl(options);\n}\n\nexport function wallet(options: WalletPrivateKeyOptions): Promise<WalletFullContext>;\nexport function wallet(options: WalletTurnkeyOptions): Promise<WalletFullContext>;\nexport function wallet(options?: WalletReadonlyOptions): Promise<WalletReadonlyContext>;\nexport async function wallet(options: WalletOptions = {}): Promise<WalletContext> {\n  const envPrivateKey = process.env.PRIVATE_KEY?.trim();\n  const envTurnkey = {\n    organizationId: process.env.TURNKEY_SUBORG_ID?.trim(),\n    apiPublicKey: process.env.TURNKEY_API_PUBLIC_KEY?.trim(),\n    apiPrivateKey: process.env.TURNKEY_API_PRIVATE_KEY?.trim(),\n    signWith: process.env.TURNKEY_WALLET_ADDRESS?.trim(),\n    apiBaseUrl: process.env.TURNKEY_API_BASE_URL?.trim(),\n  };\n\n  const effectivePrivateKey = options.privateKey ?? envPrivateKey;\n  const hasTurnkeyEnv =\n    envTurnkey.organizationId &&\n    envTurnkey.apiPublicKey &&\n    envTurnkey.apiPrivateKey &&\n    envTurnkey.signWith;\n  const effectiveTurnkey = options.turnkey ?? (hasTurnkeyEnv\n    ? {\n        organizationId: envTurnkey.organizationId!,\n        apiPublicKey: envTurnkey.apiPublicKey!,\n        apiPrivateKey: envTurnkey.apiPrivateKey!,\n        signWith: envTurnkey.signWith!,\n        ...(envTurnkey.apiBaseUrl ? { apiBaseUrl: envTurnkey.apiBaseUrl } : {}),\n      }\n    : undefined);\n\n  if (effectivePrivateKey && effectiveTurnkey) {\n    throw new Error(\"wallet() cannot be initialized with both privateKey and turnkey credentials\");\n  }\n\n  const slug = resolveChainSlug(options.chain);\n  const chain = chainRegistry[slug];\n  const tokens = tokenRegistry[slug] ?? {};\n  const overrides: RpcProviderOptions = {};\n  const envRpcUrl = process.env.RPC_URL?.trim();\n  const envApiKey = process.env.ALCHEMY_API_KEY?.trim();\n  if (options.rpcUrl ?? envRpcUrl) {\n    overrides.url = (options.rpcUrl ?? envRpcUrl)!;\n  }\n  if (options.apiKey ?? envApiKey) {\n    overrides.apiKey = (options.apiKey ?? envApiKey)!;\n  }\n\n  const rpcUrl = getRpcUrl(slug, overrides);\n\n  let providerType: WalletProviderType = \"readonly\";\n  let signerProvider:\n    | ReturnType<typeof createPrivateKeyProvider>\n    | (Awaited<ReturnType<typeof createTurnkeyProvider>>)\n    | undefined;\n\n  if (effectivePrivateKey) {\n    signerProvider = createPrivateKeyProvider({\n      chain,\n      rpcUrl,\n      privateKey: effectivePrivateKey,\n    });\n    providerType = \"privateKey\";\n  } else if (effectiveTurnkey) {\n    const turnkeyConfig = {\n      chain,\n      rpcUrl,\n      organizationId: effectiveTurnkey.organizationId,\n      apiPublicKey: effectiveTurnkey.apiPublicKey,\n      apiPrivateKey: effectiveTurnkey.apiPrivateKey,\n      signWith: effectiveTurnkey.signWith,\n    } as Parameters<typeof createTurnkeyProvider>[0];\n\n    if (effectiveTurnkey.apiBaseUrl) {\n      turnkeyConfig.apiBaseUrl = effectiveTurnkey.apiBaseUrl;\n    }\n\n    signerProvider = await createTurnkeyProvider(turnkeyConfig);\n    providerType = \"turnkey\";\n  }\n\n  const publicClient = signerProvider?.publicClient ??\n    createPublicClient({\n      chain: chain.chain,\n      transport: http(rpcUrl),\n    });\n\n  const baseContext = {\n    chain,\n    tokens,\n    rpcUrl,\n    providerType,\n    publicClient,\n    getRpcUrl: (override?: RpcProviderOptions) => getRpcUrl(slug, override),\n    ...(signerProvider ? { address: signerProvider.address } : {}),\n  } satisfies WalletReadonlyContext;\n\n  if (signerProvider) {\n    const { publicClient: _ignored, ...rest } = signerProvider;\n    return {\n      ...baseContext,\n      ...rest,\n    } as WalletFullContext;\n  }\n\n  return baseContext;\n}\n\nexport const walletToolkit = {\n  chains: chainRegistry,\n  tokens: tokenRegistry,\n  registry: walletRegistry,\n  defaults: {\n    chain: DEFAULT_CHAIN,\n    tokens: DEFAULT_TOKENS,\n  },\n  getRpcUrl,\n  wallet,\n} as const;\n"]}